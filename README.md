## Описание
Это среда для автоматического развертывания Modx/Laravel и дальнейшей разработки проектов

## Установка
`make init` и следуем инструкциям

## Команды

`make init` - Инициализация проекта  
`make up` - Запуск контейнеров  
`make down`  - Остановить контейнр  
`make dump` - делает дамп базы данных, происходит при каждом `make down`  
`make exec` - Войти в контейнер с приложением  
`make build` - Пересобрать контейнеры  
`make status` - информация о запущенных контейнерах  

## Директории
`./app` - файлы пректа, сюда копируем проект если установка не новая  
`./dump/dump.sql` - Дамп базы данных, автоматически обновляется при down контейнеров  
`./db` - тут храняться файлы базы данных  
`./redis` - тут храняться redis файлы  
`./conf` - конфиги db/nginx/redis  
`./bin` - установочные скрипты и шаблоны

## Выполнение php команд

Выполнять все php команды необходимо внутри контейнера, 
для этого либо зайдите внутрь контейнера `make exec`, либо выполните 
команду из своего окружения `docker-compose exec app php <command>`

## IP
`100.70.1.0/24` - пул адресов

## Проблемы
Если у вас возникли какие то проблемы, то прежде чем задавать вопрос, попробуйте выполнить `make down && sudo docker network prune`  
Если и это не помогло, попробуйте `make down && sudo docker system prune`  
А вот если и это не помогло, добро пожаловать в issue

## FAQ

#### Как использовать несколько "сборок" контейнеров одновременно?
В docker-compose.yml в директиве db -> ports поменяйте входящий порт с 3306 на любой другой

## TODO

- [x] Обслуживание hosts
- [x] Подтянуть redis
- [x] Автоегенерация фреймворков/CMS
- [x] Сделать dump laravel
- [x] Вынести разворачиваемые дампы в отдельную папку
- [x] Автоматический дамп базы данных при make down или make dump